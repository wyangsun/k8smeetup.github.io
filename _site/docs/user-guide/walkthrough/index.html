
  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    

<!Doctype html>
<html id="docs" class="Tutorials">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono">
    <link rel="stylesheet" type="text/css" href="/css/styles.css"><!-- default styles.css on -->
    <link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css">
    <link rel="stylesheet" type="text/css" href="/css/sweetalert.css">
    <link rel="stylesheet" type="text/css" href="/css/callouts.css">
    <link rel="stylesheet" type="text/css" href="/css/custom-jekyll/tags.css">
    
    
    <!-- no custom css detected -->

    
    <meta name="description" content="Kubernetes 101" />
    

    <script src="/js/jquery-2.2.0.min.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/sweetalert.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/custom-jekyll/tags.js"></script>
    <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Kubernetes 101 | Kubernetes</title>
<meta property="og:title" content="Kubernetes 101" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Production-Grade Container Orchestration" />
<meta property="og:description" content="Production-Grade Container Orchestration" />
<link rel="canonical" href="http://0.0.0.0:4000/docs/user-guide/walkthrough/" />
<meta property="og:url" content="http://0.0.0.0:4000/docs/user-guide/walkthrough/" />
<meta property="og:site_name" content="Kubernetes" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@kubernetesio" />
<script type="application/ld+json">
{"name":null,"description":"Production-Grade Container Orchestration","author":null,"@type":"WebPage","url":"http://0.0.0.0:4000/docs/user-guide/walkthrough/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/images/favicon.png"}},"image":null,"headline":"Kubernetes 101","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


<body>

<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="/" class="logo"></a>

    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            <li><a href="/docs/home/">Documentation</a></li>
            <li><a href="http://blog.kubernetes.io/">Blog</a></li>
            <li><a href="/partners/">Partners</a></li>
            <li><a href="/community/">Community</a></li>
            <li><a href="/case-studies/">Case Studies</a></li>
            <li>
                <a href="#">
                    v1.8 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                  <li><a href="https://kubernetes.io/docs/home/">v1.8</a></li>
                
                  <li><a href="https://v1-7.docs.kubernetes.io/docs/home/">v1.7</a></li>
                
                  <li><a href="https://v1-6.docs.kubernetes.io/docs/home/">v1.6</a></li>
                
                  <li><a href="https://v1-5.docs.kubernetes.io/docs/">v1.5</a></li>
                
                  <li><a href="https://v1-4.docs.kubernetes.io/docs/">v1.4</a></li>
                
                </ul>
              </li>
            </li>
        </ul>
        <!-- <a href="/docs/home" class="button" id="viewDocs" data-auto-burger-exclude>View Documentation</a> -->
        <a href="/docs/tutorials/kubernetes-basics/" class="button" id="tryKubernetes" data-auto-burger-exclude>Try Kubernetes</a>
        <button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
    </div>

    <nav id="mainNav">
        <main data-auto-burger="primary">
        <div class="nav-box">
            <h3><a href="/docs/tutorials/stateless-application/hello-minikube/">Get Started</a></h3>
            <p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>
        </div>
        <div class="nav-box">
            <h3><a href="/docs/home/">Documentation</a></h3>
            <p>Learn how to use Kubernetes with the use of walkthroughs, samples, and reference documentation. You can even <a href="/editdocs/" data-auto-burger-exclude>help contribute to the docs</a>!</p>
        </div>
        <div class="nav-box">
            <h3><a href="/community/">Community</a></h3>
            <p>If you need help, you can connect with other Kubernetes users and the Kubernetes authors, attend community events, and watch video presentations from around the web.</p>
        </div>
        <div class="nav-box">
            <h3><a href="http://blog.kubernetes.io">Blog</a></h3>
            <p>Read the latest news for Kubernetes and the containers space in general, and get technical how-tos hot off the presses.</p>
        </div>
        </main>
        <main data-auto-burger="primary">
        <div class="left">
            <h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
            <a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>View On Github</a>
        </div>

        <div class="right">
            <h5 class="github-invite">Explore the community</h5>
            <div class="social">
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
                <a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
        </div>
        <div class="clear" style="clear: both"></div>
        </main>
    </nav>
</header>


<!--  HERO  -->
<section id="hero" class="light-text">
  <h1>Tutorials</h1>
  <h5>Detailed walkthroughs of common Kubernetes operations and workflows.</h5>
  <div id="vendorStrip" class="light-text">
    <ul>
      <li><a href="/docs/home/" >HOME</a></li>
      <li><a href="/docs/setup/" >SETUP</a></li>
      <li><a href="/docs/concepts/" >CONCEPTS</a></li>
      <li><a href="/docs/tasks/" >TASKS</a></li>
      <li><a href="/docs/tutorials/" class="YAH">TUTORIALS</a></li>
      <li><a href="/docs/reference/" >REFERENCE</a></li>
    </ul>
    <div id="searchBox">
      <input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/search/?q=' + this.value)" autofocus="autofocus">
    </div>
  </div>
</section>




<section id="encyclopedia">
  <div id="docsToc">
        <div class="pi-accordion">
          
  

    

    
      <a class="item" data-title="Tutorials" href="/docs/tutorials/"></a>
    
  

  
    <div class="item" data-title="Kubernetes Basics">
      <div class="container">
        
  

    

    
      <a class="item" data-title="概述" href="/docs/tutorials/kubernetes-basics/"></a>
    
  

  
    <div class="item" data-title="1. Create a Cluster">
      <div class="container">
        
  

    

    
      <a class="item" data-title="使用 Minikube 创建一个集群" href="/docs/tutorials/kubernetes-basics/cluster-intro/"></a>
    
  

  

    

    
      <a class="item" data-title="互动教程 - 创建集群" href="/docs/tutorials/kubernetes-basics/cluster-interactive/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="2. Deploy an App">
      <div class="container">
        
  

    

    
      <a class="item" data-title="使用 kubectl 创建部署" href="/docs/tutorials/kubernetes-basics/deploy-intro/"></a>
    
  

  

    

    
      <a class="item" data-title="互动教程 - 部署应用程序" href="/docs/tutorials/kubernetes-basics/deploy-interactive/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="3. Explore Your App">
      <div class="container">
        
  

    

    
      <a class="item" data-title="查看 Pods 和节点" href="/docs/tutorials/kubernetes-basics/explore-intro/"></a>
    
  

  

    

    
      <a class="item" data-title="互动教程 - 应用程序探索" href="/docs/tutorials/kubernetes-basics/explore-interactive/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="4. Expose Your App Publicly">
      <div class="container">
        
  

    

    
      <a class="item" data-title="使用服务发布您的应用程序" href="/docs/tutorials/kubernetes-basics/expose-intro/"></a>
    
  

  

    

    
      <a class="item" data-title="互动教程 - 应用外部可见" href="/docs/tutorials/kubernetes-basics/expose-interactive/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="5. Scale Your App">
      <div class="container">
        
  

    

    
      <a class="item" data-title="运行应用程序的多个实例" href="/docs/tutorials/kubernetes-basics/scale-intro/"></a>
    
  

  

    

    
      <a class="item" data-title="互动教程 - 扩展您的应用程序" href="/docs/tutorials/kubernetes-basics/scale-interactive/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="6. Update Your App">
      <div class="container">
        
  

    

    
      <a class="item" data-title="执行滚动更新" href="/docs/tutorials/kubernetes-basics/update-intro/"></a>
    
  

  

    

    
      <a class="item" data-title="互动教程 - 更新您的应用程序" href="/docs/tutorials/kubernetes-basics/update-interactive/"></a>
    
  


      </div>
    </div>
  


      </div>
    </div>
  

  
    <div class="item" data-title="Online Training Courses">
      <div class="container">
        
  

    

    
      <a class="item" data-title="Scalable Microservices with Kubernetes (Udacity)" href="https://www.udacity.com/course/scalable-microservices-with-kubernetes--ud615"></a>
    
  

  

    

    
      <a class="item" data-title="Introduction to Kubernetes (edX)" href="https://www.edx.org/course/introduction-kubernetes-linuxfoundationx-lfs158x#"></a>
    
  


      </div>
    </div>
  

  

    

    
      <a class="item" data-title="Hello Minikube" href="/docs/tutorials/stateless-application/hello-minikube/"></a>
    
  

  

    

    
      <a class="item" data-title="Kubernetes 101" href="/docs/user-guide/walkthrough/"></a>
    
  

  

    

    
      <a class="item" data-title="Kubernetes 201" href="/docs/user-guide/walkthrough/k8s201/"></a>
    
  

  
    <div class="item" data-title="Configuration">
      <div class="container">
        
  

    

    
      <a class="item" data-title="Configuring Redis using a ConfigMap" href="/docs/tutorials/configuration/configure-redis-using-configmap/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="Object Management Using kubectl">
      <div class="container">
        
  

    

    
      <a class="item" data-title="Kubernetes 对象管理" href="/docs/tutorials/object-management-kubectl/object-management/"></a>
    
  

  

    

    
      <a class="item" data-title="使用命令式的方式管理 Kubernetes 对象" href="/docs/tutorials/object-management-kubectl/imperative-object-management-command/"></a>
    
  

  

    

    
      <a class="item" data-title="Imperative Management of Kubernetes Objects Using Configuration Files" href="/docs/tutorials/object-management-kubectl/imperative-object-management-configuration/"></a>
    
  

  

    

    
      <a class="item" data-title="Declarative Management of Kubernetes Objects Using Configuration Files" href="/docs/tutorials/object-management-kubectl/declarative-object-management-configuration/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="Stateless Applications">
      <div class="container">
        
  

    

    
      <a class="item" data-title="Run a Stateless Application Using a Deployment" href="/docs/tasks/run-application/run-stateless-application-deployment/"></a>
    
  

  

    

    
      <a class="item" data-title="示例：使用 Redis 的 PHP Guestbook 应用程序" href="/docs/tutorials/stateless-application/guestbook/"></a>
    
  

  

    

    
      <a class="item" data-title="使用 service 访问群集中的应用程序" href="/docs/tasks/access-application-cluster/service-access-application-cluster/"></a>
    
  

  

    

    
      <a class="item" data-title="Exposing an External IP Address to Access an Application in a Cluster" href="/docs/tutorials/stateless-application/expose-external-ip-address/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="Stateful Applications">
      <div class="container">
        
  

    

    
      <a class="item" data-title="StatefulSet基本使用" href="/docs/tutorials/stateful-application/basic-stateful-set/"></a>
    
  

  

    

    
      <a class="item" data-title="Run a Single-Instance Stateful Application" href="/docs/tasks/run-application/run-single-instance-stateful-application/"></a>
    
  

  

    

    
      <a class="item" data-title="Run a Replicated Stateful Application" href="/docs/tasks/run-application/run-replicated-stateful-application/"></a>
    
  

  

    

    
      <a class="item" data-title="示例：基于 Persistent Volume 部署 WordPress 和 MySQL" href="/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume/"></a>
    
  

  

    

    
      <a class="item" data-title="示例：使用 Stateful Sets 部署 Cassandra" href="/docs/tutorials/stateful-application/cassandra/"></a>
    
  

  

    

    
      <a class="item" data-title="运行 ZooKeeper， 一个 CP 分布式系统" href="/docs/tutorials/stateful-application/zookeeper/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="Clusters">
      <div class="container">
        
  

    

    
      <a class="item" data-title="AppArmor" href="/docs/tutorials/clusters/apparmor/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="Services">
      <div class="container">
        
  

    

    
      <a class="item" data-title="使用 Source IP" href="/docs/tutorials/services/source-ip/"></a>
    
  


      </div>
    </div>
  


        </div> <!-- /pi-accordion -->
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
  </div> <!-- /docsToc -->

  <div id="docsContent">
        <p><a href="/editdocs#docs/user-guide/walkthrough/index.md" id="editPageButton">Edit This Page</a></p>

        
          <h1>Kubernetes 101</h1>
        

        <h2 id="kubectl-cli-and-pods">Kubectl CLI and Pods</h2>

<p>For Kubernetes 101, we will cover kubectl, pods, volumes, and multiple containers</p>

<p>You need to have a Kubernetes cluster, and the kubectl command-line tool must
be configured to communicate with your cluster. If you do not already have a
cluster, you can create one by using
<a href="/docs/getting-started-guides/minikube">Minikube</a>,
or you can use one of these Kubernetes playgrounds:</p>

<ul>
  <li><a href="https://www.katacoda.com/courses/kubernetes/playground">Katacoda</a></li>
  <li><a href="http://labs.play-with-k8s.com/">Play with Kubernetes</a></li>
</ul>

<p>To check the version, enter <code class="highlighter-rouge">kubectl version</code>.</p>

<p>In order for the kubectl usage examples to work, make sure you have an example directory locally, either from <a href="https://github.com/kubernetes/kubernetes/releases">a release</a> or <a href="https://github.com/kubernetes/kubernetes">the source</a>.</p>

<ul id="markdown-toc">
  <li><a href="#kubectl-cli-and-pods" id="markdown-toc-kubectl-cli-and-pods">Kubectl CLI and Pods</a></li>
  <li><a href="#kubectl-cli" id="markdown-toc-kubectl-cli">Kubectl CLI</a></li>
  <li><a href="#pods" id="markdown-toc-pods">Pods</a>    <ul>
      <li><a href="#pod-definition" id="markdown-toc-pod-definition">Pod Definition</a></li>
      <li><a href="#pod-management" id="markdown-toc-pod-management">Pod Management</a></li>
      <li><a href="#volumes" id="markdown-toc-volumes">Volumes</a>        <ul>
          <li><a href="#volume-types" id="markdown-toc-volume-types">Volume Types</a></li>
        </ul>
      </li>
      <li><a href="#multiple-containers" id="markdown-toc-multiple-containers">Multiple Containers</a></li>
    </ul>
  </li>
  <li><a href="#whats-next" id="markdown-toc-whats-next">What’s Next?</a></li>
</ul>

<h2 id="kubectl-cli">Kubectl CLI</h2>

<p>The easiest way to interact with Kubernetes is via the <a href="/docs/user-guide/kubectl-overview/">kubectl</a> command-line interface.</p>

<p>For more info about kubectl, including its usage, commands, and parameters, see the <a href="/docs/user-guide/kubectl-overview/">kubectl CLI reference</a>.</p>

<p>If you haven’t installed and configured kubectl, finish <a href="/docs/tasks/kubectl/install/">installing kubectl</a> before continuing.</p>

<h2 id="pods">Pods</h2>

<p>In Kubernetes, a group of one or more containers is called a <em>pod</em>. Containers in a pod are deployed together, and are started, stopped, and replicated as a group.</p>

<p>See <a href="/docs/concepts/workloads/pods/pod/">pods</a> for more details.</p>

<h4 id="pod-definition">Pod Definition</h4>

<p>The simplest pod definition describes the deployment of a single container.  For example, an nginx web server pod might be defined as such:</p>

<table class="includecode">
    <thead>
        <tr>
            <th>
                <a href="https://raw.githubusercontent.com/kubernetes/website/master/docs/user-guide/walkthrough/pod-nginx.yaml" download="pod-nginx.yaml">
                    <code>pod-nginx.yaml</code>
                </a>
                <img src="/images/copycode.svg" style="max-height:24px" onclick="copyCode('pod-nginx.yaml')" title="Copy pod-nginx.yaml to clipboard" />
            </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
<div id="pod-nginx.yaml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nginx:1.7.9</span>
    <span class="na">ports</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="s">80</span>
</code></pre></div></div>
</td>
        </tr>
    </tbody>
</table>

<p>A pod definition is a declaration of a <em>desired state</em>.  Desired state is a very important concept in the Kubernetes model.  Many things present a desired state to the system, and it is Kubernetes’ responsibility to make sure that the current state matches the desired state.  For example, when you create a Pod, you declare that you want the containers in it to be running.  If the containers happen to not be running (e.g. program failure, …), Kubernetes will continue to (re-)create them for you in order to drive them to the desired state. This process continues until the Pod is deleted.</p>

<p>See the <a href="https://git.k8s.io/community/contributors/design-proposals/README.md">design document</a> for more details.</p>

<h4 id="pod-management">Pod Management</h4>

<p>Create a pod containing an nginx server (<a href="/docs/user-guide/walkthrough/pod-nginx.yaml">pod-nginx.yaml</a>):</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl create <span class="nt">-f</span> docs/user-guide/walkthrough/pod-nginx.yaml
</code></pre></div></div>

<p>List all pods:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get pods
</code></pre></div></div>

<p>On most providers, the pod IPs are not externally accessible. The easiest way to test that the pod is working is to create a busybox pod and exec commands on it remotely. See the <a href="/docs/tasks/kubectl/get-shell-running-container/">command execution documentation</a> for details.</p>

<p>Provided the pod IP is accessible, you should be able to access its http endpoint with wget on port 80:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nv">$ </span>kubectl run busybox <span class="nt">--image</span><span class="o">=</span>busybox <span class="nt">--restart</span><span class="o">=</span>Never <span class="nt">--tty</span> <span class="nt">-i</span> <span class="nt">--generator</span><span class="o">=</span>run-pod/v1 <span class="nt">--env</span> <span class="s2">"POD_IP=</span><span class="k">$(</span>kubectl get pod nginx <span class="nt">-o</span> go-template<span class="o">=</span><span class="s1">'{{.status.podIP}}'</span><span class="k">)</span><span class="s2">"</span>
u@busybox<span class="nv">$ </span>wget <span class="nt">-qO-</span> http://<span class="nv">$POD_IP</span> <span class="c"># Run in the busybox container</span>
u@busybox<span class="nv">$ </span><span class="nb">exit</span> <span class="c"># Exit the busybox container</span>
<span class="nv">$ </span>kubectl delete pod busybox <span class="c"># Clean up the pod we created with "kubectl run"</span>

</code></pre></div></div>

<p>Delete the pod by name:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl delete pod nginx
</code></pre></div></div>

<h4 id="volumes">Volumes</h4>

<p>That’s great for a simple static web server, but what about persistent storage?</p>

<p>The container file system only lives as long as the container does. So if your app’s state needs to survive relocation, reboots, and crashes, you’ll need to configure some persistent storage.</p>

<p>For this example we’ll be creating a Redis pod with a named volume and volume mount that defines the path to mount the volume.</p>

<ol>
  <li>Define a volume:</li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">redis-persistent-storage</span>
      <span class="na">emptyDir</span><span class="pi">:</span> <span class="pi">{}</span>
</code></pre></div></div>

<ol>
  <li>Define a volume mount within a container definition:</li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">volumeMounts</span><span class="pi">:</span>
    <span class="c1"># name must match the volume name below</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">redis-persistent-storage</span>
      <span class="c1"># mount path within the container</span>
      <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/data/redis</span>
</code></pre></div></div>

<p>Example Redis pod definition with a persistent storage volume (<a href="/docs/user-guide/walkthrough/pod-redis.yaml">pod-redis.yaml</a>):</p>

<table class="includecode">
    <thead>
        <tr>
            <th>
                <a href="https://raw.githubusercontent.com/kubernetes/website/master/docs/user-guide/walkthrough/pod-redis.yaml" download="pod-redis.yaml">
                    <code>pod-redis.yaml</code>
                </a>
                <img src="/images/copycode.svg" style="max-height:24px" onclick="copyCode('pod-redis.yaml')" title="Copy pod-redis.yaml to clipboard" />
            </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
<div id="pod-redis.yaml" class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">redis</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">redis</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">redis</span>
    <span class="na">volumeMounts</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">redis-persistent-storage</span>
      <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/data/redis</span>
  <span class="na">volumes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">redis-persistent-storage</span>
    <span class="na">emptyDir</span><span class="pi">:</span> <span class="pi">{}</span>
</code></pre></div></div>
</td>
        </tr>
    </tbody>
</table>

<p>Notes:</p>

<ul>
  <li>The <code class="highlighter-rouge">volumeMounts</code> <code class="highlighter-rouge">name</code> is a reference to a specific  <code class="highlighter-rouge">volumes</code> <code class="highlighter-rouge">name</code>.</li>
  <li>The <code class="highlighter-rouge">volumeMounts</code> <code class="highlighter-rouge">mountPath</code> is the path to mount the volume within the container.</li>
</ul>

<h5 id="volume-types">Volume Types</h5>

<ul>
  <li><strong>EmptyDir</strong>: Creates a new directory that will exist as long as the Pod is running on the node, but it can persist across container failures and restarts.</li>
  <li><strong>HostPath</strong>: Mounts an existing directory on the node’s file system (e.g. <code class="highlighter-rouge">/var/logs</code>).</li>
</ul>

<p>See <a href="/docs/concepts/storage/volumes/">volumes</a> for more details.</p>

<h4 id="multiple-containers">Multiple Containers</h4>

<p><em>Note:
The examples below are syntactically correct, but some of the images (e.g. kubernetes/git-monitor) don’t exist yet.  We’re working on turning these into working examples.</em></p>

<p>However, often you want to have two different containers that work together.  An example of this would be a web server, and a helper job that polls a git repository for new updates:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Pod</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">www</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nginx</span>
    <span class="na">volumeMounts</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/srv/www</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">www-data</span>
      <span class="na">readOnly</span><span class="pi">:</span> <span class="no">true</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">git-monitor</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">kubernetes/git-monitor</span>
    <span class="na">env</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">GIT_REPO</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s">http://github.com/some/repo.git</span>
    <span class="na">volumeMounts</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/data</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">www-data</span>
  <span class="na">volumes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">www-data</span>
    <span class="na">emptyDir</span><span class="pi">:</span> <span class="pi">{}</span>
</code></pre></div></div>

<p>Note that we have also added a volume here.  In this case, the volume is mounted into both containers.  It is marked <code class="highlighter-rouge">readOnly</code> in the web server’s case, since it doesn’t need to write to the directory.</p>

<p>Finally, we have also introduced an environment variable to the <code class="highlighter-rouge">git-monitor</code> container, which allows us to parameterize that container with the particular git repository that we want to track.</p>

<h2 id="whats-next">What’s Next?</h2>

<p>Continue on to <a href="/docs/user-guide/walkthrough/k8s201">Kubernetes 201</a> or
for a complete application see the <a href="https://github.com/kubernetes/kubernetes/tree/master/examples/guestbook/">guestbook example</a></p>


        <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/user-guide/walkthrough/index.md?pixel" alt="Analytics" /></a></p>
        
	
        <script type="text/javascript">
            PDRTJS_settings_8345992 = {
                "id" : "8345992",
                "unique_id" : "/docs/user-guide/walkthrough/",
                "title" : "Kubernetes 101",
                "permalink" : "http://kubernetes.github.io/docs/user-guide/walkthrough/"
            };
            (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
        </script>
        <a href="" onclick="window.open('https://github.com/kubernetes/kubernetes.github.io/issues/new?title=Issue%20with%20' +
        'k8s.io'+window.location.pathname)" class="button issue">Create an Issue</a>
	
        
          <a href="/editdocs#docs/user-guide/walkthrough/index.md" class="button issue">Edit this Page</a>
        
    
    </div>
</section>

<footer>
    <main class="light-text">
        <nav>
            <a href="/docs/tutorials/stateless-application/hello-minikube/">Get Started</a>
            <a href="/docs/home/">Documentation</a>
            <a href="http://blog.kubernetes.io/">Blog</a>
            <a href="/partners/">Partners</a>
            <a href="/community/">Community</a>
            <a href="/case-studies/">Case Studies</a>
        </nav>
        <div class="social">
            <div>
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
            </div>
            <div>
                <a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://groups.google.com/forum/#!forum/kubernetes-users" class="mailing-list"><span>Mailing List</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
            <div>
                <a href="/docs/setup/pick-right-solution/" class="button">Get Kubernetes</a>
                <a href="https://github.com/kubernetes/kubernetes" class="button">Contribute</a>
            </div>
        </div>
        <div id="miceType" class="center">
            &copy; 2017 The Kubernetes Authors | Documentation Distributed under <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a>
        </div>
        <div id="miceType" class="center">
            Copyright &copy; 2017 The Linux Foundation&reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our Trademark Usage page: <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">https://www.linuxfoundation.org/trademark-usage</a>
        </div>
    </main>
</footer>

<button class="flyout-button" onclick="kub.toggleToc()"></button>

<style>
.cse .gsc-control-cse, .gsc-control-cse, {
    padding: 0;
}
  .gsc-control-cse table, .gsc-control-cse-en table {
      margin:0px !important;
  }
  .gsc-above-wrapper-area {
      border-bottom: 0;
  }
</style>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-36037335-10', 'auto');
ga('send', 'pageview');

// hide docs nav area if no nav is present, or if nav only contains a link to the current page
(function () {
    window.addEventListener('DOMContentLoaded', init)

        // play nice with our neighbors
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
            var container = toc.querySelector('.container')

                // container is built dynamically, so it may not be present on the first runloop
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>

<!-- Commenting out AnswerDash for now; we need to work on our list of questions/answers/design first
    <!-- Start of AnswerDash script <script>var AnswerDash;!function(e,t,n,s,a){if(!t.getElementById(s)){var i,r=t.createElement(n),c=t.getElementsByTagName(n)[0];e[a]||(i=e[a]=function(){i.__oninit.push(arguments)},i.__oninit=[]),r.type="text/javascript",r.async=!0,r.src="https://p1.answerdash.com/answerdash.min.js?siteid=756",r.setAttribute("id",s),c.parentNode.insertBefore(r,c)}}(window,document,"script","answerdash-script","AnswerDash");</script> <!-- End of AnswerDash script -->


</body>
</html>
